import{_,u as w,r as f,a as i,o as h,c as x,b as o,d as a,w as g,e as v,n as y,p as V,f as k}from"./index-50d21610.js";const d=t=>(V("data-v-a24cbb0e"),t=t(),k(),t),E={class:"min-h-screen bg-gray-100 flex flex-col justify-center sm:py-12"},q={class:"mx-auto w-[calc(100%-2rem)] md:w-[600px]"},F=d(()=>o("h1",{class:"font-black text-center text-[32px]/[1.2] mb-5"},"請先登入",-1)),I={class:"bg-white shadow w-full rounded-lg divide-y divide-gray-200"},S=d(()=>o("label",{for:"inputEmail",class:"font-semibold text-sm text-gray-600 pb-1 block"},"電子信箱",-1)),A=d(()=>o("label",{for:"inputPassword",class:"font-semibold text-sm text-gray-600 pb-1 block mt-5"},"密碼",-1)),B=["disabled"],C=d(()=>o("span",{class:"inline-block mr-2"},"登入",-1)),L=[C],$={__name:"AdminLogin",setup(t){const p=w(),s=f({username:"",password:""}),m=async()=>{try{const n="https://vue3-course-api.hexschool.io/admin/signin",e=await v.post(n,s.value);if(e.data.success){const{token:r,expired:l}=e.data;document.cookie=`hexToken=${r}; expires=${new Date(l)}`,p.push({name:"dashboard"})}}catch(n){throw new Error(n)}};return(n,e)=>{const r=i("VField"),l=i("ErrorMessage"),b=i("VForm");return h(),x("div",E,[o("div",q,[F,o("div",I,[a(b,{class:"px-5 py-7",onSubmit:m},{default:g(({meta:u})=>[S,a(r,{type:"email",name:"username",class:"rounded-lg focus:border-brown-700 focus:shadow-brown-700 focus:ring-brown-700-focus px-4 py-3 mt-1 w-full",placeholder:"電子信箱",id:"inputEmail",required:"",autofocus:"",autocomplete:"email",label:"電子信箱",rules:"required|email",modelValue:s.value.username,"onUpdate:modelValue":e[0]||(e[0]=c=>s.value.username=c)},null,8,["modelValue"]),a(l,{name:"username",class:"text-red-700"}),A,a(r,{type:"password",name:"password",class:"rounded-lg focus:border-brown-700 focus:shadow-brown-700 focus:ring-brown-700-focus px-4 py-3 mt-1 w-full",id:"inputPassword",placeholder:"密碼",required:"",autocomplete:"password",label:"密碼",rules:"required",modelValue:s.value.password,"onUpdate:modelValue":e[1]||(e[1]=c=>s.value.password=c)},null,8,["modelValue"]),a(l,{name:"password",class:"text-red-700"}),o("button",{type:"submit",class:y(["transition duration-200 mt-5 bg-brown-700 hover:bg-brown-700-hover focus:bg-brown-700-focus focus:shadow-sm focus:ring-4 focus:ring-brown-700-focus focus:ring-opacity-50 text-white w-full py-2.5 rounded-lg text-sm shadow-sm hover:shadow-md font-semibold text-center inline-block",{disabled:!u.valid}]),disabled:!u.valid},L,10,B)]),_:1})])])])}}},N=_($,[["__scopeId","data-v-a24cbb0e"]]);export{N as default};
